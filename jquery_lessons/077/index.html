<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Sample</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
</head>
<body>
<h1>指定した親要素直前までの親要素を指定する</h1>
<div id="master">
  <div>Sprite 1</div>
  <span>Sprite 2</span>
  <div><b>Sprite 3</b></div>
  <div><span>Sprite 4</span></div>
  <ul>
    <li>Sprite 5</li>
    <li>Sprite 6</li>
  </ul>
</div>
<output></output>

<script>
$(function() {
  $(document).bind("click", function(evt) {
    $("output:first").text("");
    $(evt.target).parentsUntil("body").each(function( index ) {
      var htmlText = $("output:first").html();
      htmlText += this.tagName + "<br>";
      $("output:first").html(htmlText);
    });
  });
});

</script>
    
</body>
</html>